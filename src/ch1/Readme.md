# Refactoring 2nd - Chapter 1

## 소제목
- 설계가 나쁜 시스템은 수정이 어렵다
  - 원하는 동작을 수행하도록 하기위해 수정할 부분을 찾기 힘들다
  - 기존 코드와 잘 맞물려 잘 동작하게 할 방법을 강구하기 어렵다

> 프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 
> 먼저 기능을 추가 하기 쉬운 형태로 리팩토링하고 나서 원하는 기능을 추가한다.

## 리팩토링의 첫단계 
리팩토링하기 전에 제대로 된 테스트부터 마련한다.
테스트는 반드시 자가진단하도록 만든다.

1. 전체 동작을 각각의 부분으로 나눌 지점을 찾는다.


## 리팩토링 기법
1. 함수 추출하기 
  - 별도 함수로 빼냈을 때 유효범위를 벗어나는 변수, 즉 새 함수에서는 바로 사용할 수 없는 변수가 있는 지 확인
  - 추출한 새 함수에서는 필요하지만 값을 변경하지 않기 때문에 매개변수로 전달
  - 추출한 새 함수를 더 명확하게 표현하라 
    - 먼저 변수의 이름을 명확하게 바꿔라 
      - 함수 변환값에는 항상 result로 쓴다.(저자)
      - 매개변수의 역할이 뚜렷하지 않을 때 부정 관사(a/an)을 붙인다.
      - ``컴퓨터가 이해하는 코드는 바보도 작성하라 수 있다. 사람이 이해하도록 작성하는 프로그래머가 진정한 실력자다.``
2. 임시 변수를 질의 함수로 바꾸기
  - 임시 변수들 때문에 로컬 범위에 존재하는 이름이 늘어나서 추출이 복잡해진다.
  - 대입문(=)의 우변을 함수로 추출한다. 
